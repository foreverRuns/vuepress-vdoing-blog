---
title: æœ¬ç«™ä¸»é¢˜
date: 2022-02-17 15:54:57
permalink: /pages/57bbd2/
categories:
  - æœ¬ç«™å¼€å‘
tags:
  - æœ¬ç«™
---

# æœ¬ç«™ä¸»é¢˜

æœ¬ç«™ä½¿ç”¨çš„ä¸»é¢˜ç»§æ‰¿è‡ª `Vdoing` ä¸»é¢˜ï¼Œ[ä¸»é¢˜å®˜æ–¹æ–‡æ¡£](https://doc.xugaoyi.com/) å’Œ [ä¸»é¢˜æºç ](https://github.com/xugaoyi/vuepress-theme-vdoing)ã€‚

## å¿«é€Ÿä½“éªŒ

```sh
# clone the project
git clone https://github.com/xugaoyi/vuepress-theme-vdoing.git

# enter the project directory
cd vuepress-theme-vdoing

# install dependency æ³¨æ„ï¼šå¦‚å®‰è£…ä¸æˆåŠŸè¯·å…³é—­æ·˜å®æºã€‚
yarn install # or npm install

# develop
yarn dev # or npm run dev
```

è¿™æ ·ä½ å°±èƒ½åœ¨æœ¬åœ°è·‘èµ·æ¥ vdoingä¸»é¢˜ ä½œè€…çš„åšå®¢ï¼Œå®˜æ–¹ä¹Ÿæ˜¯å»ºè®®ç›´æ¥cloneæ•´ä¸ªé¡¹ç›®ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæ›¿æ¢ä½ è‡ªå·±çš„å†…å®¹å³å¯ã€‚

:::tip å®˜æ–¹æç¤º
1. ä¸å»ºè®®åœ¨åŸé»˜è®¤vuepressé¡¹ç›®ä¸Šå•ç‹¬å®‰è£…ä½¿ç”¨æœ¬ä¸»é¢˜åŒ…ï¼Œè€Œæ˜¯cloneæˆ‘çš„æ•´ä¸ªé¡¹ç›®å†æ›¿æ¢ä½ è‡ªå·±çš„å†…å®¹å³å¯ã€‚
2. ä¿®æ”¹config.jsé…ç½®åéœ€è¦é‡æ–°å¯åŠ¨é¡¹ç›®æ‰ä¼šç”Ÿæ•ˆã€‚
3. æ›´å¤šå…³äºé¡¹ç›®ä¸Šæ‰‹çš„é—®é¢˜ï¼Œè¯·æŸ¥é˜… [é—®ç­”](https://doc.xugaoyi.com/pages/9cc27d/)ã€‚
:::

å¦‚æœä½ æ‰“ç®—è¿™ä¹ˆåšï¼Œé‚£ä¹ˆä½ éœ€è¦å…ˆçœ‹çœ‹ [é—®ç­”](https://doc.xugaoyi.com/pages/9cc27d/) ä¸­æ‰€éœ€æŒæ¡çš„çŸ¥è¯†ï¼Œç„¶ååœ¨æ­¤åŸºç¡€ä¸Šæ›¿æ¢ä½ è‡ªå·±çš„å†…å®¹å³æ­å»ºè‡ªå·±çš„åšå®¢äº†ã€‚

ä½†æˆ‘ä¸å»ºè®®è¿™ä¹ˆåšï¼Œå»ºè®®åœ¨ä½ ä¸Šé¢åˆå§‹åŒ–çš„vuepressé¡¹ç›®ä¸­å®‰è£…vdoingä¸»é¢˜ï¼Œç„¶åç»§æ‰¿è¯¥ä¸»é¢˜ï¼Œå†å»ä¿®æ”¹ã€‚

è¿™æ ·åšçš„å¥½å¤„ï¼š 
* å¯ä»¥å¯¹vdoingä¸»é¢˜æ·±åº¦ä¿®æ”¹
* ä¹Ÿå¯ä»¥äº«å—åˆ°åç»­vdoingä¸»é¢˜çš„å‡çº§æœåŠ¡

## å®‰è£…Vdoingä¸»é¢˜

åœ¨ä¸Šé¢åˆå§‹åŒ–çš„vuepressé¡¹ç›®ä¸­å®‰è£…æœ€æ–°çš„vdoingä¸»é¢˜

<code-group>
  <code-block title="YARN" active>
  ```sh
  yarn add vuepress-theme-vdoing
  ```
  </code-block>

  <code-block title="NPM">
  ```sh
  npm install vuepress-theme-vdoing -D
  ```
  </code-block>
</code-group>

## ç»§æ‰¿vdoingä¸»é¢˜

VuePress [ä¸»é¢˜çš„ç»§æ‰¿](https://vuepress.vuejs.org/zh/theme/inheritance.html)ï¼Œå¯ä»¥å…ˆçœ‹çœ‹å®˜æ–¹æ•™ç¨‹ï¼Œå¤§æ¦‚äº†è§£ä¸€ä¸‹ã€‚

### ä½¿ç”¨

åˆ›å»ºä¸€ä¸ªç»§æ‰¿è‡ª vdoing ä¸»é¢˜çš„æ´¾ç”Ÿä¸»é¢˜ï¼Œåªéœ€è¦åœ¨ä¸»é¢˜é…ç½®ä¸­é…ç½® extend é€‰é¡¹ï¼š

* `docs` ç›®å½•ä¸‹æ–°å»º `.vuepress/theme` ç›®å½•
* åœ¨è¯¥ç›®å½•ä¸‹æ–°å»º `index.js`

```js
// docs/.vuepress/theme/index.js
module.exports = {
  extend: 'vuepress-theme-vdoing'  // è¿™é‡Œæ ¹è·¯å¾„æŒ‡å‘ node_modules
}
```

### ç»§æ‰¿ç­–ç•¥

çˆ¶ä¸»é¢˜çš„æ‰€æœ‰èƒ½åŠ›éƒ½ä¼š"ä¼ é€’"ç»™å­ä¸»é¢˜ï¼Œå¯¹äºæ–‡ä»¶çº§åˆ«çš„çº¦å®šï¼Œå­ä¸»é¢˜å¯ä»¥é€šè¿‡åœ¨åŒæ ·çš„ä½ç½®åˆ›å»ºåŒåæ–‡ä»¶æ¥è¦†ç›–å®ƒï¼›  
å¯¹äºæŸäº›ä¸»é¢˜é…ç½®é€‰é¡¹ï¼Œå¦‚ globalLayoutï¼Œå­ä¸»é¢˜ä¹Ÿå¯ä»¥é€šè¿‡åŒåé…ç½®æ¥è¦†ç›–å®ƒã€‚

æ–‡ä»¶çº§åˆ«çš„çº¦å®šå¦‚ä¸‹ï¼š

* å…¨å±€ç»„ä»¶ï¼Œå³æ”¾ç½®åœ¨ `theme/global-components` ä¸­çš„ Vue ç»„ä»¶ã€‚
* ç»„ä»¶ï¼Œå³æ”¾ç½®åœ¨ `theme/components` ä¸­çš„ Vue ç»„ä»¶ã€‚
* å…¨å±€çš„æ ·å¼å’Œè°ƒè‰²æ¿ï¼Œå³æ”¾ç½®åœ¨ `theme/styles` ä¸­çš„ `index.styl` å’Œ `palette.styl`ã€‚
* HTML æ¨¡æ¿ï¼Œå³æ”¾ç½®åœ¨ `theme/templates` ä¸­çš„ `dev.html` å’Œ `ssr.html`ã€‚
* ä¸»é¢˜æ°´å¹³çš„å®¢æˆ·ç«¯å¢å¼ºæ–‡ä»¶ï¼Œå³ `theme/enhanceApp.js`ã€‚

### ç»„ä»¶è¦†ç›–

ç»„ä»¶çš„è¦†ç›–ï¼Œæ˜¯åŸºäºçˆ¶ä¸»é¢˜ä¸­å¯¹åº”ç»„ä»¶çš„ä»£ç æ¥ä¿®æ”¹ã€‚  
å³å°†çˆ¶ä¸»é¢˜ä¸­å¯¹åº”çš„ç»„ä»¶ç›´æ¥å¤åˆ¶åˆ° `docs/.vuepress/theme/components` ä¸­ä¿®æ”¹ã€‚  
å¦‚æ­¤ä¸€æ¥ï¼Œå°±å¯ä»¥å®ç°è½»æ¾åœ° â€œç¯¡æ”¹â€ ä¸€ä¸ªçˆ¶ä¸»é¢˜çš„æŸä¸ªéƒ¨åˆ†ã€‚

* `docs/.vuepress/theme` ç›®å½•ä¸‹æ–°å»º `components` ç›®å½•  
* éœ€è¦ä¿®æ”¹Vdoingä¸»é¢˜ä¸­çš„å“ªä¸ªç»„ä»¶ï¼Œå°±åˆ° `node_modules/vuepress-theme-vdoing/components` ç›®å½•ä¸‹å¤åˆ¶å¯¹åº”çš„ç»„ä»¶åˆ°ä¸Šé¢æ–°å»ºçš„ç›®å½•ä¸‹ä¿®æ”¹
* æ–°å¢çš„åŠŸèƒ½æ¨¡å—ç›´æ¥æ–°å»ºå¯¹åº”çš„ç»„ä»¶å³å¯

è¦†ç›–æˆ–æ–°å¢çš„ç»„ä»¶å¯ä»¥ç›´æ¥æŸ¥çœ‹æˆ‘çš„[githubæºç ](https://github.com/foreverRuns/vuepress-vdoing-blog/tree/main/docs/.vuepress/theme/components)ï¼Œä»¥ä¸‹ç®€å•è¯´æ˜ä¿®æ”¹çš„éƒ¨åˆ†
  
#### Home.vueï¼ˆå¤åˆ¶ï¼‰

```vue
<template #mainRight>
  <BloggerBar v-if="$themeConfig.blogger" />
  <CategoriesBar
    v-if="homeData.category !== false && 
    $themeConfig.category !== false && 
    $categoriesAndTags.categories.length"
    :categoriesData="$categoriesAndTags.categories"
    :length="10"
  />
  <TagsBar
    v-if="homeData.tag !== false && 
    $themeConfig.tag !== false && 
    $categoriesAndTags.tags.length"
    :tagsData="$categoriesAndTags.tags"
    :length="30"
  />
  <div
    class="custom-html-box card-box"
    v-if="homeSidebarB"
    v-html="homeSidebarB"
  ></div>
</template>
```

mainRight æ’æ§½ä¸­æ–°å¢å¯¹ homeData.category å’Œ homeData.tag çš„åˆ¤æ–­ï¼Œè¿™ä¹Ÿæ˜¯é¦–é¡µæ–°å¢çš„é…ç½®é¡¹ï¼Œå…·ä½“è¯´æ˜æŸ¥çœ‹å‰é¢[ä»‹ç»ç¯‡](01.ä»‹ç».md)

#### NavLinks.vueï¼ˆå¤åˆ¶ï¼‰

```js
repoLink() {
  const { repo, repoLink } = this.$site.themeConfig
  // repoLink é»˜è®¤ä¸ºtrue
  if (repo && repoLink !== false) {
    return /^https?:/.test(repo) ? repo : `https://github.com/${repo}`
  }
  return null
}
```
repoLinkå‡½æ•°ä¸­æ–°å¢å¯¹ `repoLink` é…ç½®é¡¹çš„åˆ¤æ–­ï¼Œè¿™ä¹Ÿæ˜¯æ–°å¢çš„ä¸»é¢˜é…ç½®é¡¹ï¼Œå…·ä½“è¯´æ˜æŸ¥çœ‹å‰é¢[ä»‹ç»ç¯‡](01.ä»‹ç».md)

#### NavLinksBefore.vueï¼ˆæ–°å»ºï¼‰

```vue
<template>
  <nav class="nav-links" v-if="beforeLinks.length">
    <!-- before links -->
    <div class="nav-item" v-for="item in beforeLinks" :key="item.link">
      <DropdownLink v-if="item.type === 'links'" :item="item" />
      <NavLink v-else :item="item" />
    </div>
  </nav>
</template>

<script>
import DropdownLink from '@theme/components/DropdownLink.vue'
import NavLink from '@theme/components/NavLink.vue'

export default {
  components: { NavLink, DropdownLink },

  methods: {
    resolveNavLinkItem(linkItem) {
      return Object.assign(linkItem, {
        type: linkItem.items && linkItem.items.length ? 'links' : 'link',
      })
    },
  },

  computed: {
    navBefore() {
      return this.$themeLocaleConfig.navBefore || this.$site.themeConfig.navBefore || []
    },

    beforeLinks() {
      return (this.navBefore || []).map((link) => {
        return Object.assign(this.resolveNavLinkItem(link), {
          items: (link.items || []).map(this.resolveNavLinkItem),
        })
      })
    },
  },
}
</script>

<style lang="stylus">
.nav-links
  display inline-block
  margin-right 0.5rem
  a
    line-height 1.4rem
    color inherit
    &:hover, &.router-link-active
      color $accentColor
  .nav-item
    position relative
    display inline-block
    margin-left 1.5rem
    line-height 2rem
    &:first-child
      margin-left 0
// 959
@media (max-width $MQNarrow)
  .nav-links
    .nav-item
      margin-left 1.2rem
@media (max-width $MQMobile)
  .nav-links
    .nav-item
      margin-left 0
@media (min-width $MQMobile)
  .nav-links a
    &:hover, &.router-link-active
      color var(--textColor)
  .nav-item > a:not(.external)
    &:hover, &.router-link-active
      margin-bottom -2px
      border-bottom 2px solid lighten($accentColor, 8%)
</style>
```

æœç´¢æ¡†å‰é¢çš„å¯¼èˆªæ¨¡å—ï¼Œå¦‚æœ¬ç«™é¡¶éƒ¨å¯¼èˆªçš„ `ğŸ”‘ç´¢å¼•` 

#### Navbar.vueï¼ˆå¤åˆ¶ï¼‰

```vue
<template>
  ...
  <NavLinksBefore class="can-hide" />
  <AlgoliaSearchBox v-if="isAlgoliaSearch" :options="algolia" />
  <SearchBox v-else-if="$site.themeConfig.search !== false && $page.frontmatter.search !== false" />
  <NavLinks class="can-hide" />
  ...
</template>

<script>
// å¯¼å…¥ç»„ä»¶
import NavLinksBefore from './NavLinksBefore.vue'
// æ³¨å†Œç»„ä»¶
components: { SidebarButton, NavLinks, NavLinksBefore, SearchBox, AlgoliaSearchBox },
</script>
```

å¢åŠ  `NavLinksBefore` ç»„ä»¶æ¨¡å—ï¼Œå…¶ä¸­ `class="can-hide"` æ˜¯ç”¨äºç§»åŠ¨ç«¯æ—¶å¯ä»¥éšè—

#### Sidebar.vueï¼ˆå¤åˆ¶ï¼‰

```vue
<template>
  ...
  <!-- ç§»åŠ¨ç«¯Nav -->
  <NavLinks />
  <NavLinksBefore />
  ...
</template>

<script>
// å¯¼å…¥ç»„ä»¶
import NavLinksBefore from './NavLinksBefore.vue'
// æ³¨å†Œç»„ä»¶
components: { SidebarLinks, NavLinks, NavLinksBefore },
</script>
```

ç”±äºç§»åŠ¨ç«¯é¡¶éƒ¨çš„ `NavLinksBefore` ä¼šè¢«éšè—ï¼Œéœ€è¦åœ¨ä¾§è¾¹æ ä¸­æ˜¾ç¤ºå‡ºæ¥

### æ ·å¼è¦†ç›–

æ ·å¼çš„è¦†ç›–ï¼Œæ˜¯åŸºäºå…¨å±€çš„æ ·å¼å’Œè°ƒè‰²æ¿ï¼Œå³æ”¾ç½®åœ¨ `theme/styles` ä¸­çš„ `index.styl` å’Œ `palette.styl`ã€‚ 


* `docs/.vuepress` ç›®å½•ä¸‹æ–°å»º `styles` ç›®å½•  
* åœ¨è¯¥ç›®å½•ä¸‹åˆ†åˆ«æ–°å»º `index.styl` å’Œ `palette.styl` æ–‡ä»¶

æœ€æ–°ä¿®æ”¹å¯ä»¥ç›´æ¥æŸ¥çœ‹æˆ‘çš„[githubæºç ](https://github.com/foreverRuns/vuepress-vdoing-blog/tree/main/docs/.vuepress/styles)

#### index.stylï¼ˆæ–°å»ºï¼‰ 

```css
/* docs/.vuepress/styles/index.styl */

// æƒé‡è¦å¤Ÿ
#app .theme-container .home-wrapper .banner {
  // é‡ç½® .banner ä¸­çš„ margin-top: 3.6rem; ä¸º padding-top: 3.6rem;
  // è§£å†³ä¸»é¡µé«˜åº¦å¤Ÿç”¨ä¹Ÿå‡ºç°æ»šåŠ¨æ¡ (ç”±äº.theme-container ä¸­ min-height: 100vh; å†magrinçš„è¯å°±ä¼šå§‹ç»ˆè¶…å‡ºä¸€ä¸ªå±å¹•çš„é«˜åº¦è€Œå‡ºç°æ»šåŠ¨æ¡)
  margin-top: 0;
  padding-top: 3.6rem;

  // ä½¿ä¸»é¡µbannerå­—ä½“é¢œè‰²è·Ÿéšä¸»é¢˜è®¾ç½®
  color: var(--textColor);
}

.home-wrapper .banner .banner-conent .hero p {
  // ä¸»é¡µbanner heroTextä¸‹çš„taglineå­—ä½“åŠ ç²—
  font-weight: 600;
}

.home-wrapper .banner .banner-conent .feature p, 
.home-wrapper .banner .banner-conent .feature h2 {
  // ä¸»é¡µ feature å­—ä½“åŠ ç²—
  font-weight: bold!important;
}

// è§£å†³ç›®å½•é¡µå®½åº¦å¤Ÿç”¨ä¹Ÿæ¢è¡Œï¼Œä½¿å…¶å±•ç¤ºæ­£å¸¸
.catalogue-wrapper .catalogue-content dl.inline a:not(.header-anchor) {
  width: 100%!important;
}

// footer è®©é¡µè„šå›ºå®šåœ¨é¡µé¢åº•éƒ¨ 
.theme-container {
  position: relative;
}

.theme-container .home-wrapper,
.theme-container .page,
.theme-container .custom-page {
  // footer å¤§æ¦‚çš„é«˜åº¦
  padding-bottom: calc(9.65rem + 12px + 2rem);
}

.footer {
  position: absolute;
  bottom: 0;
  width: 100%!important;
}

// ä¾§è¾¹æ ç›®å½•æŒ‰é’®é¢œè‰²
.theme-container .sidebar-button {
  color: black;
  background-color: white;
  opacity: 0.6;
}

/* è‡ªå®šä¹‰æ»šåŠ¨æ¡æ ·å¼ */
//å®šä¹‰æ»šåŠ¨æ¡é«˜å®½åŠèƒŒæ™¯ é«˜å®½åˆ†åˆ«å¯¹åº”æ¨ªç«–æ»šåŠ¨æ¡çš„å°ºå¯¸
// ::-webkit-scrollbar
// {
//   width: 8px;
//   height: 8px;
//   border-radius: 10px;
//   background-color: #F5F5F5;
// }
// /*å®šä¹‰æ»šåŠ¨æ¡è½¨é“ å†…é˜´å½±+åœ†è§’*/
// ::-webkit-scrollbar-track
// {
//   border-radius: 10px;
//   -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
//   background-color: #F5F5F5;
// }
// /*å®šä¹‰æ»‘å— å†…é˜´å½±+åœ†è§’*/
// ::-webkit-scrollbar-thumb
// {
//   border-radius: 10px;
//   -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,.3);
//   border-radius: 10px;
//   /* çº¿æ€§æ¸å˜ */
//   background-image: -webkit-gradient(linear, 
//   left bottom, left top,
//    color-stop(0.44, rgb(60,186,146)), 
//    color-stop(0.72, rgb(253,187,45)), 
//    color-stop(0.86, rgb(253,187,45)));
//   transition: 0.3s ease-in-out;
// }
// /*å®šä¹‰æ»‘å—æ‚¬æµ®æ ·å¼*/
// ::-webkit-scrollbar-thumb:hover{
//   background-image: -webkit-gradient(linear, 
//   left bottom, left top, 
//   color-stop(0.44, rgb(253,187,45)), 
//   olor-stop(0.72, rgb(253,187,45)), 
//   color-stop(0.86, rgb(60,186,146)));
//   transition: 0.3s ease-in-out;
// }
```

#### palette.stylï¼ˆæ–°å»ºï¼‰

```css
//***vdoingä¸»é¢˜-æ ·å¼å˜é‡ï¼ˆä½ å¯ä»¥ä¿®æ”¹è¿™äº›å˜é‡å€¼ä»¥è¦†ç›–ä¸»é¢˜ä½¿ç”¨çš„æ ·å¼å˜é‡ï¼‰***//

// ä»¥ä¸‹æ³¨é‡Šçš„å˜é‡ä»…ä¾›å‚è€ƒï¼Œä¸»é¢˜ä½¿ç”¨çš„æœ€æ–°å˜é‡è¯·æŸ¥çœ‹ï¼šhttps://github.com/xugaoyi/vuepress-theme-vdoing/blob/master/theme-vdoing/styles/palette.styl

// // é¢œè‰²

// $bannerTextColor = #fff // é¦–é¡µbanneråŒº(åšå®¢æ ‡é¢˜)æ–‡æœ¬é¢œè‰²
// $bannerTextColor = #004050
// $accentColor = #11A8CD // ä¸»é¢˜è‰²
// $activeColor = #ff5722
// $arrowBgColor = #ccc
// $badgeTipColor = #42b983
// $badgeWarningColor = darken(#ffe564, 35%)
// $badgeErrorColor = #DA5961

// // å¸ƒå±€
// $navbarHeight = 3.6rem
// $sidebarWidth = 18rem
// $contentWidth = 860px
// $homePageWidth = 1100px
// $rightMenuWidth = 230px // å³ä¾§èœå•

// // ä»£ç å—
// $lineNumbersWrapperWidth = 2.5rem

// // æµ…è‰²æ¨¡å¼
// .theme-mode-light
//   --bodyBg: #f4f4f4
//   --mainBg: rgba(255,255,255,1)
//   --sidebarBg: rgba(255,255,255,.8)
//   --blurBg: rgba(255,255,255,.9)
//   --textColor: #004050
//   --textLightenColor: #0085AD
//   --borderColor: rgba(0,0,0,.15)
//   // ä»£ç å—æµ…è‰²ä¸»é¢˜
//   --codeBg: #f6f6f6
//   --codeColor: #525252
//   codeThemeLight()
//   // // ä»£ç å—æ·±è‰²ä¸»é¢˜
//   // --codeBg: #252526
//   // --codeColor: #fff
//   // codeThemeDark()

// // æ·±è‰²æ¨¡å¼
// .theme-mode-dark
//   --bodyBg: rgb(39,39,43)
//   --mainBg: rgba(30,30,34,1)
//   --sidebarBg: rgba(30,30,34,.8)
//   --blurBg: rgba(30,30,34,.8)
//   --textColor: rgb(140,140,150)
//   --textLightenColor: #0085AD
//   --borderColor: #2C2C3A
//   --codeBg: #252526
//   --codeColor: #fff
//   codeThemeDark()

// // é˜…è¯»æ¨¡å¼
// .theme-mode-read
//   --bodyBg: rgb(240,240,208)
//   --mainBg: rgba(245,245,213,1)
//   --sidebarBg: rgba(245,245,213,.8)
//   --blurBg: rgba(245,245,213,.9)
//   --textColor: #004050
//   --textLightenColor: #0085AD
//   --borderColor: rgba(0,0,0,.15)
//   --codeBg: #282c34
//   --codeColor: #fff
//   codeThemeDark()

// æµ…è‰²æ¨¡å¼
.theme-mode-light
  // ä»£ç å—ä¸»é¢˜é¢œè‰²
  --codeBg: #2a2e36
  --codeColor: #D4D4D4
  codeThemeDark()

// ä»£ç å—çš„è¡Œæ•°å­—é¢œè‰²
div[class*="language-"]
  &.line-numbers-mode
    .line-numbers-wrapper
      color #9e9e9e
```





